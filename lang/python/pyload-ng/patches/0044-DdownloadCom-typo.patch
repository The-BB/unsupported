From 17edbe10449ae623eb6d35adf53e6ed7710f5d2a Mon Sep 17 00:00:00 2001
From: GammaC0de <gammac0de@users.noreply.github.com>
Date: Sun, 16 May 2021 12:49:12 +0300
Subject: [PATCH 044/150] [DdownloadCom] typo

---
 src/pyload/plugins/downloaders/DdownloadCom.py | 2 +-
 src/pyload/plugins/helpers.py                  | 7 ++++++-
 2 files changed, 7 insertions(+), 2 deletions(-)

--- a/src/pyload/plugins/downloaders/DdownloadCom.py
+++ b/src/pyload/plugins/downloaders/DdownloadCom.py
@@ -16,7 +16,7 @@ class DdownloadCom(XFSDownloader):
 
     __pattern__ = r"https?://(?:www\.)?(?:ddl\.to|ddownload\.com)/(?P<ID>\w{12})"
     __config__ = [
-        ("activated", "bool", "Activated", True),
+        ("enabled", "bool", "Activated", True),
         ("use_premium", "bool", "Use premium account if available", True),
         ("fallback", "bool", "Fallback to free download if premium fails", True),
         ("chk_filesize", "bool", "Check file size", True),
--- a/src/pyload/plugins/helpers.py
+++ b/src/pyload/plugins/helpers.py
@@ -560,8 +560,13 @@ def forward(source, destination):
         while bufdata:
             destination.sendall(bufdata)
             bufdata = source.recv(bufsize)
+    except ConnectionResetError:
+        pass
     finally:
-        destination.shutdown(socket.SHUT_WR)
+        try:
+            destination.shutdown(socket.SHUT_WR)
+        except OSError:
+            pass
 
 
 def compute_checksum(filename, hashtype):
