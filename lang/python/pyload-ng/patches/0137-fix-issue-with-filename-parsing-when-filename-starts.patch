From 4bceb59d981d8f03883fd2ea0c028e19882ed130 Mon Sep 17 00:00:00 2001
From: GammaC0de <gammac0de@users.noreply.github.com>
Date: Tue, 31 Aug 2021 00:29:29 +0300
Subject: [PATCH 137/150] fix issue with filename parsing when filename starts
 with #

---
 src/pyload/core/utils/web/parse.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/src/pyload/core/utils/web/parse.py
+++ b/src/pyload/core/utils/web/parse.py
@@ -108,7 +108,7 @@ from ..purge import name as safe_nm
 
 def name(url, safe_name=True):
     url = format.url(url)
-    up = urllib.parse.urlparse(url)
+    up = urllib.parse.urlparse(url, allow_fragments=False)
     name = up.path.split("/")[-1]
     if not name:
         name = up.query.split("=", 1)[::-1][0].split("&", 1)[0]
