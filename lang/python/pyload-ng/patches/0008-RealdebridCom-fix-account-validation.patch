From e7a6c460c795632965c6255d53543d05a73e8064 Mon Sep 17 00:00:00 2001
From: GammaC0de <gammac0de@users.noreply.github.com>
Date: Tue, 2 Nov 2021 22:57:44 +0200
Subject: [PATCH 08/73] [RealdebridCom] fix account validation

---
 src/pyload/plugins/accounts/RealdebridCom.py | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

diff --git a/src/pyload/plugins/accounts/RealdebridCom.py b/src/pyload/plugins/accounts/RealdebridCom.py
index b89b040e0..ac1edad59 100644
--- a/src/pyload/plugins/accounts/RealdebridCom.py
+++ b/src/pyload/plugins/accounts/RealdebridCom.py
@@ -15,7 +15,7 @@ def args(**kwargs):
 class RealdebridCom(MultiAccount):
     __name__ = "RealdebridCom"
     __type__ = "account"
-    __version__ = "0.61"
+    __version__ = "0.62"
     __status__ = "testing"
 
     __config__ = [
@@ -75,9 +75,11 @@ class RealdebridCom(MultiAccount):
     def grab_info(self, user, password, data):
         api_data = self.api_request("rest", "/user", args(auth_token=data['api_token']))
 
-        validuntil = time.time() + api_data["premium"]
+        premium_remain = api_data["premium"]
+        premium = premium_remain > 0
+        validuntil = time.time() + premium_remain if premium else -1
 
-        return {"validuntil": validuntil, "trafficleft": -1, "premium": True}
+        return {"validuntil": validuntil, "trafficleft": -1, "premium": premium}
 
     def signin(self, user, password, data):
         user = user.split('/')
-- 
2.30.2

