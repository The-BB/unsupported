#!/bin/sh

CONFIG=/opt/etc/grafana/grafana.ini
HOMEPATH=/opt/share/grafana
PIDFILE=/opt/var/run/grafana.pid

DATAPATH=/opt/var/lib/grafana
DATASOURCECFGPATH=/opt/etc/grafana/datasources
DASHBOARDSCFGPATH=/opt/etc/grafana/dashboards
LOGPATH=/opt/var/log/grafana
PLUGINPATH=/opt/var/lib/grafana/plugins
PROVISIONING_CFG_DIR=/opt/etc/grafana/provisioning

FLAGS="\
cfg:default.paths.datasources=$DATASOURCECFGPATH
cfg:default.paths.dashboards=$DASHBOARDSCFGPATH
cfg:default.paths.logs=$LOGPATH
cfg:default.paths.data=$DATAPATH
cfg:default.paths.plugins=$PLUGINPATH
cfg:default.paths.provisioning=$PROVISIONING_CFG_DIR
"

ENABLED=yes
PROCS=grafana-server
ARGS="-config=$CONFIG -homepath=$HOMEPATH -pidfile=$PIDFILE $FLAGS"
PREARGS=""
DESC=$PROCS
PATH=/opt/sbin:/opt/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin

. /opt/etc/init.d/rc.func
