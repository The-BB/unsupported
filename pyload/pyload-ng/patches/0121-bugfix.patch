From 8e93bf2d8b833b1684bf95c4b9f2d289dc253473 Mon Sep 17 00:00:00 2001
From: GammaC0de <gammac0de@users.noreply.github.com>
Date: Sun, 27 Jun 2021 23:07:07 +0300
Subject: [PATCH 121/150] bugfix

---
 src/pyload/core/__init__.py                | 6 ++----
 src/pyload/core/managers/plugin_manager.py | 3 +--
 src/pyload/core/managers/thread_manager.py | 3 +--
 src/pyload/core/utils/parse.py             | 2 +-
 4 files changed, 5 insertions(+), 9 deletions(-)

--- a/src/pyload/core/__init__.py
+++ b/src/pyload/core/__init__.py
@@ -218,10 +218,9 @@ class Core:
 
                 group = getgrnam(self.config.get("permission", "group"))
                 os.setgid(group[2])
-            except Exception as exc:
+            except Exception:
                 self.log.warning(
                     self._("Unable to change gid"),
-                    exc,
                     exc_info=self.debug > 1,
                     stack_info=self.debug > 2,
                 )
@@ -232,10 +231,9 @@ class Core:
 
                 user = getpwnam(self.config.get("permission", "user"))
                 os.setuid(user[2])
-            except Exception as exc:
+            except Exception:
                 self.log.warning(
                     self._("Unable to change uid"),
-                    exc,
                     exc_info=self.debug > 1,
                     stack_info=self.debug > 2,
                 )
--- a/src/pyload/core/managers/plugin_manager.py
+++ b/src/pyload/core/managers/plugin_manager.py
@@ -114,10 +114,9 @@ class PluginManager:
             config = [[k] + list(v) for k, v in config.items()]
             try:
                 self.pyload.config.add_plugin_config(name, config, desc)
-            except Exception as exc:
+            except Exception:
                 self.pyload.log.error(
                     self._("Invalid config in {}: {}").format(name, config),
-                    exc,
                     exc_info=self.pyload.debug > 1,
                     stack_info=self.pyload.debug > 2,
                 )
--- a/src/pyload/core/managers/thread_manager.py
+++ b/src/pyload/core/managers/thread_manager.py
@@ -140,10 +140,9 @@ class ThreadManager:
 
         try:
             self.assign_job()
-        except Exception as exc:
+        except Exception:
             self.pyload.log.warning(
                 "Assign job error",
-                exc,
                 exc_info=self.pyload.debug > 1,
                 stack_info=self.pyload.debug > 2,
             )
--- a/src/pyload/core/utils/parse.py
+++ b/src/pyload/core/utils/parse.py
@@ -43,7 +43,7 @@ def name(text, safe_name=True):
     try:
         name = web_parse.name(text, safe_name=safe_name)
         name = os.path.basename(name)
-    except Exception as exc:
+    except Exception:
         name = os.path.basename(text).strip()
         if safe_name:
             name = purge.name(name)
