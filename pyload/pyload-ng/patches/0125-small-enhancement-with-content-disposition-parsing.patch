From 72184050ba7909b47415de06201b3f1c1900b16e Mon Sep 17 00:00:00 2001
From: GammaC0de <gammac0de@users.noreply.github.com>
Date: Thu, 15 Jul 2021 02:36:02 +0300
Subject: [PATCH 125/150] small enhancement with content-disposition parsing

---
 src/pyload/core/network/http/http_chunk.py | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

--- a/src/pyload/core/network/http/http_chunk.py
+++ b/src/pyload/core/network/http/http_chunk.py
@@ -259,13 +259,16 @@ class HTTPChunk(HTTPRequest):
 
     def parse_header(self):
         """
-        parse data from recieved header.
+        parse data from received header.
         """
         for orgline in self.response_header.splitlines():
             try:
-                orgline = orgline.decode("iso-8859-1")
+                orgline = orgline.decode("utf-8")
             except UnicodeDecodeError:
-                continue
+                try:
+                    orgline = orgline.decode("iso-8859-1")
+                except UnicodeDecodeError:
+                        continue
 
             line = orgline.strip().lower()
             if line.startswith("accept-ranges") and "bytes" in line:
